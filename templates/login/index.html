{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
	<title>Login</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'login/vendor/bootstrap/css/bootstrap.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'login/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'login/vendor/animate/animate.css' %}">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="{% static 'login/vendor/css-hamburgers/hamburgers.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'login/vendor/select2/select2.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'login/css/modals.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'login/css/util.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'login/css/main.css' %}">
<!--===============================================================================================-->
	<!-- <script src="{% static 'js/myvalidaters.js' %}"></script> -->
<style media="screen">
	.alert-login{
	display: none;
	}
	input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}

input[type=number] { -moz-appearance:textfield; }
</style>
</head>
<body>
		<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="login100-pic js-tilt " data-tilt>
					<img class="img--ajust" src="{% static 'login/images/logo.png' %}" alt="IMG">
				</div>

				<form class="login100-form validate-form" method="POST" onsubmit="validation_login();">{% csrf_token %}
					<span class="login100-form-title">
						Iniciar Sesion
						{% for error in form.non_field_errors %}
						<div id="error-user" class="alert alert-danger " >
							<div class="container-fluid">
								<div class="alert-icon">
									<b><i class="fa fa-exclamation-triangle"></i> Alerta de Error:</b>
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true"><i class="fa fa-remove"></i></span>
									</button>
								</div>
								<p style="margin-top: 1em;">Por favor, ingrese el correo y la clave correctos.</p>
							</div>
						</div>
						{% endfor %}
					</span>

					<div class="wrap-input100 validate-input" data-validate = "Cedula invalida">
						<input class="input100" type="number" name="username" placeholder="Cedula" onblur="validation_login();" autofocus autocomplete="off">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-envelope" aria-hidden="true"></i>
						</span>
					</div>

					<div class="wrap-input100 validate-input" data-validate = "Contraseña requerida">
						<input class="input100" type="password" name="password" placeholder="Contraseña" autocomplete="off" onblur="validation_login();">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-lock" aria-hidden="true"></i>
						</span>
					</div>

					
					<div class="container-login100-form-btn">
						<button class="login100-form-btn" type="submit" name="login" onClick="valida();">
							Entrar
						</button>
					</div>

					<div class="text-center p-t-12 login-page">
						<span class="txt1">
							¿Olvidó su 
						</span>
						<a class="txt2 passRecuperar" href="#">
							Contraseña?
						</a>
						<br>
						<a class="txt2" href="#">
								Registrarse 
						</a>
					</div>
					<!-- Modal -->
					<div id="recup_mymodal" class="mascara3">
						<div class="contenido3">
							<span id="closemymodal1" class="cerrar3">&times;</span>
							<div class="boxContentList__content--two center">
								<div class="row">
									<div class="col-sm-12 my_div">
										<div class="flexbox column xCenter yCenter" style="border-radius: 5px; margin-top: 6.8rem; min-height: 250px;">
											<h4 style="width: 100%; text-align: center;margin-top: -18%;" class="header2">Desea Recuperar Tu Contraseña ?</h4>
											<img class="my_img" src="{% static 'login/images/img-01.png' %}">
											<div class="form-group">
												<p class="my_p">Ingrese su dirección de correo electrónico a continuación para restablecer su contraseña.</p>
												<input class="form-control form-app" name="email" placeholder="Correo" autocomplete="off" class="form-control placeholder-no-fix">
								  
											</div>
											<div class="form-group my_btn">
												<button class="btn btn-info" type="button">Aceptar</button>
												<button class="btn btn-danger" type="button">Cancelar</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					
				</form>
			</div>
		</div>
	</div>
	
	

	
<!--===============================================================================================-->	
	<script src="{% static 'login/vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<!--===============================================================================================-->
<!--===============================================================================================-->
	<!-- <script src="{% static 'js/myvalidaters.js' %}"></script> -->
<!--===============================================================================================-->
	<script src="{% static 'login/vendor/bootstrap/js/popper.js' %}"></script>
	<script src="{% static 'login/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<!--===============================================================================================-->
	<script src="{% static 'login/vendor/select2/select2.min.js' %}"></script>
<!--===============================================================================================-->
	<script src="{% static 'login/vendor/tilt/tilt.jquery.min.js' %}"></script>
	<script >
		$('.js-tilt').tilt({
			scale: 1.1
		})
	</script>
<!--===============================================================================================-->
	<script src="{% static 'login/js/main.js' %}"></script>
<!--===============================================================================================-->

	<script type="text/javascript">
        function functionModal(id, close, open) {
            const boxModal = document.querySelector("#" + id);
            const closeModal = document.querySelector("#" + close);
            const openModal = document.querySelectorAll("." + open);
    
            if (boxModal && openModal) {
                for (var btnOpen = 0; btnOpen < openModal.length; btnOpen++) {
                    openModal[btnOpen].addEventListener('click', function(){
                        if (boxModal.getAttribute('style')) {
                            document.querySelector('body').removeAttribute('style');
                            boxModal.removeAttribute('style');
                        } else {
                            boxModal.setAttribute('parentNode', 'active');
                            
                            const parentNode = document.querySelectorAll("[parentNode='active']");
                            for (var i = 0; i < parentNode.length; i++) {
                                parentNode[i].removeAttribute('style');
                            }
    
                            document.querySelector('body').setAttribute('style', 'overflow-y: hidden !important;');
                            boxModal.setAttribute('style', 'display: block;');
                        }
                    });
                }
            }
    
            if (boxModal && closeModal) {
                closeModal.addEventListener('click', function(){
                    if (boxModal.getAttribute('style')) {
                        document.querySelector('body').removeAttribute('style');
                        boxModal.removeAttribute('style');
                    }
                });
            }
        }
    
        document.addEventListener('DOMContentLoaded', function(){
            // Este code funciona solo para modales unicas
            // Id, Id, class
    
            
            functionModal('recup_mymodal', 'closemymodal1', 'passRecuperar');

    
        });
        $('.dropdown-toggle').dropdown()
    </script>

    <script type="text/javascript">
    	function validation_login(){
		    var user = $('#id_username').val();
		    var password = $('#id_password').val();

		    if(user == "") {
		        $('#alerta-login').html('Por favor introduzca una cedula').slideDown(500);
		        $('#id_username').focus();
		        return false;
		    } else {
		        $('#alerta-login').slideUp(200);
		    }

		    if(password == "") {
		        $('#alerta-login').html('Por favor introduzca su contraseña').slideDown(500);
		        $('#id_password').focus();
		        return false;
		    } else {
		        $('#alerta-login').slideUp(200);
		    }
		};

		setTimeout(function() {
		    $('#error-user').slideUp(500);
		}, 12500);
    </script>

</body>
</html>